(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27774742"],{"121a":function(t,e,a){"use strict";a("a576")},"13d5":function(t,e,a){"use strict";var i=a("23e7"),r=a("d58f").left,n=a("a640"),c=a("ae40"),s=a("2d00"),o=a("605d"),l=n("reduce"),u=c("reduce",{1:0}),d=!o&&s>79&&s<83;i({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},5635:function(t,e,a){"use strict";a("9309")},"7db0":function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").find,n=a("44d2"),c=a("ae40"),s="find",o=!0,l=c(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},9309:function(t,e,a){},"996f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"invoice-preview-wrapper"},[t._m(0),a("b-alert",{attrs:{variant:"danger",show:!t.invoiceData}},[a("h4",{staticClass:"alert-heading"},[t._v(" Error al cargar la factura ")]),a("div",{staticClass:"alert-body"},[t._v(" No se encontró una factura con este ID. Revisa la "),a("b-link",{staticClass:"alert-link",attrs:{to:{name:"apps-invoice-list"}}},[t._v(" lista de facturas ")]),t._v(". ")],1)]),t.invoiceData?a("b-row",{staticClass:"invoice-preview justify-content-center"},[a("b-col",{attrs:{cols:"12",xl:"9",md:"8"}},[a("b-card",{staticClass:"invoice-preview-card",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"invoice-padding pb-0"},[a("div",{staticClass:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0"},[a("div",[a("div",{staticClass:"logo-wrapper mb-1"},[a("logo"),a("div",{staticClass:"ml-5 text-center"},[a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"2rem","font-weight":"500","letter-spacing":"1px"}},[t._v("DISTRIBUIDORA E INVERSIONES")]),a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"3rem","font-weight":"700","letter-spacing":"2px","text-shadow":"0 2px 8px rgba(0,0,0,0.08)"}},[t._v("LACTEOS MV 2016, C.A.")])])],1),a("b-card-text",{staticClass:"mb-25 ml-2"},[a("strong",[t._v("Rif-J-41237828-7")])]),a("b-card-text",{staticClass:"mb-25 ml-1"},[a("strong",[t._v("Tlf-(0416)-195-70-38")]),a("br"),a("strong",[t._v("Tlf-(0412)-673-47-76")])])],1),a("div",{staticClass:"mt-md-0 mt-2 float-right fechaIzquierda"},[a("h4",{staticClass:"invoice-title"},[t._v(" N° "),a("span",{staticClass:"invoice-number"},[t._v("#"+t._s(t.invoiceNumber))])]),a("div",{staticClass:"invoice-date-wrapper"},[a("p",{staticClass:"invoice-date-title"},[t._v(" Fecha: ")]),a("p",{staticClass:"invoice-date"},[t._v(" "+t._s(t.invoiceData.created_at)+" ")])])])])]),a("h3",{staticClass:"text-center text-info"},[a("strong",[t._v("Orden de Despacho")])]),a("hr",{staticClass:"invoice-spacing"}),a("b-card-body",{staticClass:"invoice-padding pt-0 d-flex justify-content-center align-items-center"},[a("b-card",{staticClass:"bg-light border-info text-center"},[a("b-row",{staticClass:"align-items-center justify-content-center"},[a("b-col",{staticClass:"text-center"},[a("span",[a("strong",[t._v("Cliente:")]),t._v(" "+t._s(t.invoiceData.customer.dni)+" - "+t._s(t.invoiceData.customer.name)+" ")]),a("span",[a("strong",[t._v("TLF:")]),t._v(" "+t._s(t.invoiceData.customer.phone)+" ")]),a("span",[a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.invoiceData.customer.address)+" ")])])],1)],1)],1),a("b-table-lite",{staticClass:"mb-2 text-center",attrs:{responsive:"",items:t.invoiceData.items,fields:t.itemFields},scopedSlots:t._u([{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.created_at))+" ")]}},{key:"cell(kilograms)",fn:function(e){return[t._v(" "+t._s(parseFloat(e.item.kilograms).toFixed(2))+" Kg ")]}},{key:"cell(unit_price)",fn:function(e){return[t._v(" $"+t._s(parseFloat(e.item.unit_price).toFixed(2))+" ")]}},{key:"cell(subtotal)",fn:function(e){return[t._v(" $"+t._s(parseFloat(e.item.subtotal).toFixed(2))+" ")]}},{key:"cell(cheese.name)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}}],null,!1,1888809956)}),a("b-col",{staticClass:"text-right px-2",attrs:{cols:"12"}},[a("h5",[t._v("Total en Kilos: "+t._s(t.totalKilograms)+" Kg")]),a("br"),a("h5",[t._v(" Factor: "+t._s(t.invoiceData.tasa?parseFloat(t.invoiceData.tasa).toFixed(2):t.convercion)+" Bs ")]),a("h4",{staticClass:"text-success"},[t._v(" "+t._s("Pagado"===t.invoiceData.status?"Total Pagado":"Total a Pagar")+": $"+t._s(parseFloat(t.invoiceData.amount).toFixed(2))+" ")]),a("h4",{staticClass:"text-success"},[t._v(" "+t._s("Pagado"===t.invoiceData.status?"Total Pagado":"Total a Pagar")+": Bs "+t._s(parseFloat(t.invoiceData.totalBs).toFixed(2))+" ")])]),a("div",{staticClass:"mb-5"}),a("div",{staticClass:"targetaDePie"},[a("hr",{staticClass:"invoice-spacing"}),a("b-card-body",{staticClass:"invoice-padding p-0 m-0 pb-2 text-center"},[a("span",{staticClass:"font-weight-bold text-info m-0 p-0"},[t._v(" Productos de primera calidad, para un sabor inigualable. ")]),a("hr",{staticClass:"invoice-spacing p-0 m-1"}),a("span",{staticClass:"m-1 pt-0"},[t._v(" Av. Principal, Casa S/N Sector La Raya (La Raya Arriba) Barinas Zona Postal 5217 ")])])],1)],1)],1),a("b-col",{staticClass:"invoice-actions",attrs:{cols:"12",md:"4",xl:"3"}},[a("b-card",{staticClass:"position-fixed",staticStyle:{width:"18%"}},[a("div",{staticClass:"mb-1 text-center"},[a("b-badge",{attrs:{pill:"",variant:"Pendiente"===t.invoiceData.status?"warning":"success"}},[t._v(" "+t._s(t.invoiceData.status)+" ")])],1),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-info",block:""},on:{click:t.printInvoice}},[t._v(" Imprimir ")]),"Pendiente"===t.invoiceData.status?a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-success",block:""},on:{click:function(e){return t.paidProducer(t.invoiceData.id)}}},[t._v(" Pagar ")]):t._e()],1)],1)],1):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice-watermark-bg only-print"},[a("img",{attrs:{src:"/logoMV.png",alt:"Logo Marca de Agua"}})])}],n=a("c7eb"),c=a("1da1"),s=a("5530"),o=(a("7db0"),a("d81d"),a("13d5"),a("b0c0"),a("b680"),a("d3b7"),a("4d90"),a("a15b7")),l=a("b28b"),u=a("205f"),d=a("1947"),b=a("6197"),f=a("ce80"),v=a("d6e4"),p=a("5fda"),m=a("aa59"),g=a("e98b"),h=a("088b"),_=a("e009"),y=a("2f62"),w=a("a2b6"),O={directives:{Ripple:_["a"]},components:{BRow:o["a"],BCol:l["a"],BCard:u["a"],BButton:d["a"],BCardBody:b["a"],BTableLite:f["a"],BCardText:v["a"],BAlert:p["a"],BLink:m["a"],BBadge:g["a"],Logo:h["a"]},data:function(){return{invoiceData:null,convercion:0,loaded:!1,itemFields:[{key:"cheese.name",label:"Tipo de Queso"},{key:"kilograms",label:"Kilos"},{key:"unit_price",label:"Precio"},{key:"subtotal",label:"Sub Total"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(y["b"])({items:function(t){return t.invoice.invoice},currency:function(t){return t.currency.items}})),{},{invoiceNumber:function(){return this.invoiceData&&this.invoiceData.id?String(this.invoiceData.id).padStart(8,"0"):""},totalKilograms:function(){return this.invoiceData.items.reduce((function(t,e){return t+parseFloat(e.kilograms)}),0).toFixed(2)}}),mounted:function(){this.loadInvoice()},methods:{loadInvoice:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("currency/get");case 2:return a=t.currency.find((function(t){return 1===t.id})),t.convercion=a?parseFloat(a.price):1,e.next=6,t.$store.dispatch("invoice/getInvoice",{id:t.$route.params.id});case 6:i=t.items.dataNote,i&&(t.invoiceData={id:i.id,customer:i.customer,created_at:new Date(i.created_at).toLocaleDateString("es-ES"),amount:i.amount,totalBs:i.total_bs,tasa:i.tasa,status:i.status,items:i.items.map((function(t){var e;return Object(s["a"])(Object(s["a"])({},t),{},{subtotal:t.subtotal,kilograms:t.kilograms,"cheese.name":(null===(e=t.cheese)||void 0===e?void 0:e.name)||"Sin nombre"})}))}),t.loaded=!0;case 9:case"end":return e.stop()}}),e)})))()},formatDate:function(t){var e=new Date(t);return e.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})},printInvoice:function(){window.print()},paidProducer:function(t){var e=this;return Object(c["a"])(Object(n["a"])().mark((function a(){var i;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(w["a"])("¿Está seguro de pagar esta nota?");case 2:if(i=a.sent,!i.value){a.next=9;break}return a.next=6,e.$store.dispatch("invoice/paid",{id:t});case 6:return e.$swal("Pagado","La nota ha sido pagada","success"),a.next=9,e.loadInvoice();case 9:case"end":return a.stop()}}),a)})))()}}},x=O,j=(a("e3fa"),a("121a"),a("5635"),a("2877")),C=Object(j["a"])(x,i,r,!1,null,"068e4f07",null);e["default"]=C.exports},a576:function(t,e,a){},ae34:function(t,e,a){},b680:function(t,e,a){"use strict";var i=a("23e7"),r=a("a691"),n=a("408a"),c=a("1148"),s=a("d039"),o=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},b=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){o.call({})}));i({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,a,i,s,o=n(this),b=r(t),f=[0,0,0,0,0,0],v="",p="0",m=function(t,e){var a=-1,i=e;while(++a<6)i+=t*f[a],f[a]=i%1e7,i=l(i/1e7)},g=function(t){var e=6,a=0;while(--e>=0)a+=f[e],f[e]=l(a/t),a=a%t*1e7},h=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var a=String(f[t]);e=""===e?a:e+c.call("0",7-a.length)+a}return e};if(b<0||b>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(v="-",o=-o),o>1e-21)if(e=d(o*u(2,69,1))-69,a=e<0?o*u(2,-e,1):o/u(2,e,1),a*=4503599627370496,e=52-e,e>0){m(0,a),i=b;while(i>=7)m(1e7,0),i-=7;m(u(10,i,1),0),i=e-1;while(i>=23)g(1<<23),i-=23;g(1<<i),m(1,1),g(2),p=h()}else m(0,a),m(1<<-e,0),p=h()+c.call("0",b);return b>0?(s=p.length,p=v+(s<=b?"0."+c.call("0",b-s)+p:p.slice(0,s-b)+"."+p.slice(s-b))):p=v+p,p}})},ce80:function(t,e,a){"use strict";a.d(e,"a",(function(){return x}));var i=a("2b0e"),r=a("c637"),n=a("d82f"),c=a("cf75"),s=a("493b"),o=a("31df"),l=a("90ef"),u=a("8c18"),d=a("3f15"),b=a("d6d4"),f=a("5e0d"),v=a("48f9"),p=a("712b"),m=a("399f"),g=a("838e"),h=a("c05d");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){w(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function w(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var O=Object(c["d"])(Object(n["m"])(y(y(y(y(y(y(y(y(y({},l["b"]),d["b"]),b["b"]),f["b"]),v["a"]),p["a"]),m["a"]),g["a"]),h["a"])),r["ib"]),x=i["default"].extend({name:r["ib"],mixins:[s["a"],o["a"],l["a"],u["a"],f["a"],p["b"],v["b"],h["b"],g["b"],m["b"],d["a"],b["a"]],props:O})},d58f:function(t,e,a){var i=a("1c0b"),r=a("7b0b"),n=a("44ad"),c=a("50c4"),s=function(t){return function(e,a,s,o){i(a);var l=r(e),u=n(l),d=c(l.length),b=t?d-1:0,f=t?-1:1;if(s<2)while(1){if(b in u){o=u[b],b+=f;break}if(b+=f,t?b<0:d<=b)throw TypeError("Reduce of empty array with no initial value")}for(;t?b>=0:d>b;b+=f)b in u&&(o=a(o,u[b],b,l));return o}};t.exports={left:s(!1),right:s(!0)}},e3fa:function(t,e,a){"use strict";a("ae34")},e98b:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var i=a("2b0e"),r=a("b42e"),n=a("c637"),c=a("a723"),s=a("d82f"),o=a("cf75"),l=a("4a38"),u=a("aa59");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=Object(s["j"])(u["b"],["event","routerTag"]);delete v.href.default,delete v.to.default;var p=Object(o["d"])(Object(s["m"])(b(b({},v),{},{pill:Object(o["c"])(c["g"],!1),tag:Object(o["c"])(c["t"],"span"),variant:Object(o["c"])(c["t"],"secondary")})),n["c"]),m=i["default"].extend({name:n["c"],functional:!0,props:p,render:function(t,e){var a=e.props,i=e.data,n=e.children,c=a.active,s=a.disabled,d=Object(l["d"])(a),b=d?u["a"]:a.tag,f=a.variant||"secondary";return t(b,Object(r["a"])(i,{staticClass:"badge",class:["badge-".concat(f),{"badge-pill":a.pill,active:c,disabled:s}],props:d?Object(o["e"])(v,a):{}}),n)}})}}]);
//# sourceMappingURL=chunk-27774742.7a101592.js.map