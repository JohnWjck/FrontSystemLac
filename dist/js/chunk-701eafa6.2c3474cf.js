(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-701eafa6"],{"29fb":function(t,e,a){},"39ba":function(t,e,a){"use strict";a.d(e,"a",(function(){return z}));var i=a("c637"),n=a("e863"),c=a("0056"),r=a("9bfa"),o=a("992e"),s=a("2326"),l=a("906c"),d=a("6b77"),b=a("7b1e"),u=a("3c21"),v=a("d82f"),f="collapsed",p="not-collapsed",m="__BV_toggle",g="".concat(m,"_HANDLER__"),_="".concat(m,"_CLICK__"),O="".concat(m,"_STATE__"),h="".concat(m,"_TARGETS__"),j="false",y="true",w="aria-controls",x="aria-expanded",C="role",D="tabindex",k="overflow-anchor",P=Object(d["d"])(i["r"],"toggle"),S=Object(d["e"])(i["r"],"state"),E=Object(d["e"])(i["r"],"sync-state"),T=Object(d["d"])(i["r"],"request-state"),B=[r["c"],r["j"]],L=function(t){return!Object(s["a"])(["button","a"],t.tagName.toLowerCase())},$=function(t,e){var a=t.modifiers,i=t.arg,n=t.value,c=Object(v["h"])(a||{});if(n=Object(b["m"])(n)?n.split(o["r"]):n,Object(l["t"])(e.tagName,"a")){var r=Object(l["h"])(e,"href")||"";o["h"].test(r)&&c.push(r.replace(o["g"],""))}return Object(s["b"])(i,n).forEach((function(t){return Object(b["m"])(t)&&c.push(t)})),c.filter((function(t,e,a){return t&&a.indexOf(t)===e}))},I=function(t){var e=t[_];e&&(Object(d["a"])(t,"click",e,c["P"]),Object(d["a"])(t,"keydown",e,c["P"])),t[_]=null},A=function(t,e){if(I(t),e.context){var a=function(a){if(("keydown"!==a.type||Object(s["a"])(B,a.keyCode))&&!Object(l["r"])(t)){var i=t[h]||[];i.forEach((function(t){e.context.$root.$emit(P,t)}))}};t[_]=a,Object(d["b"])(t,"click",a,c["P"]),L(t)&&Object(d["b"])(t,"keydown",a,c["P"])}},N=function(t,e){t[g]&&e.context&&e.context.$root.$off([S,E],t[g]),t[g]=null},F=function(t,e){if(N(t,e),e.context){var a=function(e,a){Object(s["a"])(t[h]||[],e)&&(t[O]=a,R(t,a))};t[g]=a,e.context.$root.$on([S,E],a)}},R=function(t,e){e?(Object(l["y"])(t,f),Object(l["b"])(t,p),Object(l["E"])(t,x,y)):(Object(l["y"])(t,p),Object(l["b"])(t,f),Object(l["E"])(t,x,j))},U=function(t,e){t[e]=null,delete t[e]},V=function(t,e,a){if(n["f"]&&a.context){L(t)&&(Object(l["o"])(t,C)||Object(l["E"])(t,C,"button"),Object(l["o"])(t,D)||Object(l["E"])(t,D,"0")),R(t,t[O]);var i=$(e,t);i.length>0?(Object(l["E"])(t,w,i.join(" ")),Object(l["F"])(t,k,"none")):(Object(l["x"])(t,w),Object(l["A"])(t,k)),Object(l["B"])((function(){A(t,a)})),Object(u["a"])(i,t[h])||(t[h]=i,i.forEach((function(t){a.context.$root.$emit(T,t)})))}},z={bind:function(t,e,a){t[O]=!1,t[h]=[],F(t,a),V(t,e,a)},componentUpdated:V,updated:V,unbind:function(t,e,a){I(t),N(t,a),U(t,g),U(t,_),U(t,O),U(t,h),Object(l["y"])(t,f),Object(l["y"])(t,p),Object(l["x"])(t,x),Object(l["x"])(t,w),Object(l["x"])(t,C),Object(l["A"])(t,k)}}},5099:function(t,e,a){"use strict";a("29fb")},"57d9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"invoice-preview-wrapper"},[t._m(0),a("b-alert",{attrs:{variant:"danger",show:void 0===t.invoiceData}},[a("h4",{staticClass:"alert-heading"},[t._v(" Error fetching invoice data ")]),a("div",{staticClass:"alert-body"},[t._v(" No invoice found with this invoice id. Check "),a("b-link",{staticClass:"alert-link",attrs:{to:{name:"apps-invoice-list"}}},[t._v(" Invoice List ")]),t._v(" for other invoices. ")],1)]),t.invoiceData?a("b-row",{staticClass:"invoice-preview justify-content-center"},[a("b-col",{attrs:{cols:"12",xl:"9",md:"8"}},[a("b-card",{staticClass:"invoice-preview-card",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"pb-0"},[a("div",{staticClass:"d-flex justify-content-between flex-md-row flex-column mt-0"},[a("div",[a("div",{staticClass:"logo-wrapper mb-25"},[a("logo"),a("div",{staticClass:"ml-5 text-center"},[a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"2rem","font-weight":"500","letter-spacing":"1px"}},[t._v("DISTRIBUIDORA E INVERSIONES")]),a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"3rem","font-weight":"700","letter-spacing":"2px","text-shadow":"0 2px 8px rgba(0,0,0,0.08)"}},[t._v("LACTEOS MV 2016, C.A.")]),a("p",{staticClass:"text-center text-info"},[t._v(" Av. Principal, Casa S/N Sector La Raya (La Raya Arriba) Barinas Zona Postal 5217. ")])])],1),a("b-card-text",{staticClass:"mb-25 ml-2"},[a("strong",[t._v("Rif-J-41237828-7")])]),a("b-card-text",{staticClass:"mb-25 ml-1"},[a("strong",[t._v("Tlf-(0416)-195-70-38")]),a("br"),a("strong",[t._v("Tlf-(0412)-673-47-76")])])],1),a("div",{staticClass:"mt-md-0 mt-2 float-right fechaIzquierda"},[a("h4",{staticClass:"invoice-title mb-25"},[t._v(" N° "),a("span",{staticClass:"invoice-number"},[t._v("#"+t._s(t.invoiceNumber))])]),a("div",{staticClass:"invoice-date-wrapper"},[a("p",{staticClass:"invoice-date-title"},[t._v(" Fecha: ")]),a("p",{staticClass:"invoice-date"},[t._v(" "+t._s(new Date(t.invoiceData.created_at).toLocaleDateString("es-ES"))+" ")])])])]),a("div",{staticStyle:{"margin-top":"-7rem"}},[a("h3",{staticClass:"text-center text-info"},[a("strong",[t._v("Reporte Semanal del Productor")])]),a("p",{staticClass:"text-center mb-0"},[a("strong",[t._v("Del "+t._s(new Date(t.invoiceData.start_week).toLocaleDateString("es-ES"))+" Al "+t._s(new Date(t.invoiceData.end_week).toLocaleDateString("es-ES")))])])])]),a("hr",{staticClass:"invoice-spacing mb-25 mt-3"}),t.invoiceData.id&&t.invoiceData.producer&&t.invoiceData.producer[0]?a("p",{staticClass:"text-center p-0 m-0"},[a("strong",[t._v("Productor:")]),t._v(" "+t._s(t.invoiceData.producer[0].dni)+" - "+t._s(t.invoiceData.producer[0].name)+" "),a("strong",[t._v("TLF:")]),t._v(" "+t._s(t.invoiceData.producer[0].phone)+" "),a("strong",[t._v("Finca:")]),t._v(" "+t._s(t.invoiceData.producer[0].farm)+" "),a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.invoiceData.producer[0].address)+" ")]):t._e(),t.loaded?a("b-table",{staticClass:"table-sm text-center border-0",attrs:{small:"",responsive:"",items:t.invoiceData.milk_loads,fields:t.fields},scopedSlots:t._u([{key:"cell(created_at)",fn:function(e){return[a("b-card-text",{staticClass:"text-nowrap mb-25"},[t._v(" "+t._s(t.formatDate(e.value,!0).split(",")[0])+" ")]),a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" "+t._s(t.formatDate(e.value,!1))+" ")])]}},{key:"cell(liters)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" "+t._s(e.value)+" Lts ")])]}},{key:"cell(price_per_liter)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" $"+t._s(e.value)+" ")])]}},{key:"cell(subTotal)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" $"+t._s((e.item.liters*e.item.price_per_liter).toFixed(2))+" ")])]}}],null,!1,4207768170)}):t._e(),a("b-col",{staticClass:"float-right",attrs:{cols:"12",xl:"12"}},[a("h5",{staticClass:"p-0 ml-2 float-left text-info"},[t._v(" Total en Litros: "+t._s(t.invoiceData.liters)+"Lts ")]),a("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Bs "+(t.invoiceData.amount*t.convercion).toFixed(2),expression:"'Bs '+(invoiceData.amount * convercion).toFixed(2)",modifiers:{hover:!0,top:!0}}],staticClass:"p-0 float-right text-info"},[t._v(" "+t._s("Pagado"===t.invoiceData.status?" Total Pagado":" Total a Pagar")+" $"+t._s(t.invoiceData.amount)+" ")]),a("hr",{staticClass:"invoice-spacing"})])],1)],1),a("b-col",{staticClass:"invoice-actions",attrs:{cols:"12",md:"4",xl:"3"}},[a("b-card",{staticClass:"position-fixed",staticStyle:{width:"18%"}},[a("div",{staticClass:"mb-1 text-center"},[a("b-badge",{attrs:{pill:"",variant:"Pendiente"===t.invoiceData.status?"warning":"success"}},[t._v(" "+t._s(t.invoiceData.status)+" ")])],1),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-info",block:""},on:{click:t.printInvoice}},[t._v(" Imprimir ")]),"Pendiente"===t.invoiceData.status?a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-success",block:""},on:{click:function(e){return t.paidProducer(t.invoiceData.id)}}},[t._v(" Pagar ")]):t._e()],1)],1)],1):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice-watermark-bg only-print"},[a("img",{attrs:{src:"/logoMV.png",alt:"Logo Marca de Agua"}})])}],c=a("c7eb"),r=a("1da1"),o=a("5530"),s=(a("7db0"),a("d3b7"),a("4d90"),a("39ba")),l=a("a15b7"),d=a("b28b"),b=a("205f"),u=a("1947"),v=a("6197"),f=a("29a1"),p=a("d6e4"),m=a("5fda"),g=a("aa59"),_=a("e98b"),O=a("088b"),h=a("e009"),j=a("2f62"),y=a("2b0e"),w=a("a2b6"),x={directives:{Ripple:h["a"],"b-toggle":s["a"]},components:{BRow:l["a"],BCol:d["a"],BCard:b["a"],BButton:u["a"],BCardBody:v["a"],BTable:f["a"],BCardText:p["a"],BAlert:m["a"],BLink:g["a"],BBadge:_["a"],Logo:O["a"]},data:function(){return{invoiceData:y["default"].observable({}),convercion:null,liters:null,totalIva:"0.00",fields:[{key:"created_at",label:"Fecha",sortable:!0},{key:"liters",label:"Litros",sortable:!0},{key:"price_per_liter",label:"Precio",sortable:!0},{key:"subTotal",label:"Sub Total",sortable:!0}],producer:[{key:"dni",label:"Identificación"},{key:"name",label:"Productor"},{key:"phone",label:"Teléfono"},{key:"farm",label:"Finca"},{key:"address",label:"Dirección"}],loaded:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(j["b"])({items:function(t){return t.payment.invoice},currency:function(t){return t.currency.items}})),{},{invoiceNumber:function(){return this.invoiceData&&this.invoiceData.id?String(this.invoiceData.id).padStart(8,"0"):""}}),mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;this.$store.dispatch("currency/get").then((function(){var e=t.currency.find((function(t){var e=t.id;return 1===e})),a=e?parseFloat(e.price):0,i=t.currency.find((function(t){var e=t.id;return 2===e})),n=i?parseFloat(i.price):0;t.convercion=a,t.liters=n,console.log(t.convercion,t.liters)})),this.$store.dispatch("payment/getInvoice",{id:this.$route.params.id}).then((function(){var e=t.items;if(e){var a=e.milk_loads,i=e.payment,n=i.id,c=i.liters,r=i.payable,o=[r],s=i.created_at,l=i.start_week,d=i.end_week,b=i.amount,u=i.status;t.invoiceData={id:n,milk_loads:a,payment:i,liters:c,producer:o,created_at:s,start_week:l,end_week:d,amount:b,status:u}}t.loaded=!0}))},formatDate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Date(t);if(!a)return"";var i=e?{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}:{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"};return a.toLocaleDateString("es-ES",i)},printInvoice:function(){window.print()},paidProducer:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function a(){var i,n;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(w["a"])("¿Está seguro de Pagar este Productor?");case 2:if(i=a.sent,!i.value){a.next=10;break}return a.next=6,e.$store.dispatch("payment/paid",{id:t});case 6:n=a.sent,console.log(n),e.$swal("Pagado","El Productor ha sido Pagado","success"),e.getItems();case 10:case"end":return a.stop()}}),a)})))()}}},C=x,D=(a("e3c7"),a("798b"),a("5099"),a("2877")),k=Object(D["a"])(C,i,n,!1,null,"0ba7f5ee",null);e["default"]=k.exports},"798b":function(t,e,a){"use strict";a("f05c")},"7db0":function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").find,c=a("44d2"),r=a("ae40"),o="find",s=!0,l=r(o);o in[]&&Array(1)[o]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),c(o)},c0e3:function(t,e,a){},e3c7:function(t,e,a){"use strict";a("c0e3")},e98b:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var i=a("2b0e"),n=a("b42e"),c=a("c637"),r=a("a723"),o=a("d82f"),s=a("cf75"),l=a("4a38"),d=a("aa59");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f=Object(o["j"])(d["b"],["event","routerTag"]);delete f.href.default,delete f.to.default;var p=Object(s["d"])(Object(o["m"])(u(u({},f),{},{pill:Object(s["c"])(r["g"],!1),tag:Object(s["c"])(r["t"],"span"),variant:Object(s["c"])(r["t"],"secondary")})),c["c"]),m=i["default"].extend({name:c["c"],functional:!0,props:p,render:function(t,e){var a=e.props,i=e.data,c=e.children,r=a.active,o=a.disabled,b=Object(l["d"])(a),u=b?d["a"]:a.tag,v=a.variant||"secondary";return t(u,Object(n["a"])(i,{staticClass:"badge",class:["badge-".concat(v),{"badge-pill":a.pill,active:r,disabled:o}],props:b?Object(s["e"])(f,a):{}}),c)}})},f05c:function(t,e,a){}}]);
//# sourceMappingURL=chunk-701eafa6.2c3474cf.js.map