(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558dc60b"],{"03b3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"invoice-preview-wrapper"},[t._m(0),a("b-alert",{attrs:{variant:"danger",show:void 0===t.invoiceData}},[a("h4",{staticClass:"alert-heading"},[t._v(" Error fetching invoice data ")]),a("div",{staticClass:"alert-body"},[t._v(" No invoice found with this invoice id. Check "),a("b-link",{staticClass:"alert-link",attrs:{to:{name:"apps-invoice-list"}}},[t._v(" Invoice List ")]),t._v(" for other invoices. ")],1)]),t.invoiceData?a("b-row",{staticClass:"invoice-preview justify-content-center"},[a("b-col",{attrs:{cols:"12",xl:"9",md:"8"}},[a("b-card",{staticClass:"invoice-preview-card",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"invoice-padding pb-0"},[a("div",{staticClass:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0"},[a("div",[a("div",{staticClass:"logo-wrapper mb-1"},[a("logo"),a("div",{staticClass:"ml-5 text-center"},[a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"2rem","font-weight":"500","letter-spacing":"1px"}},[t._v("DISTRIBUIDORA E INVERSIONES")]),a("span",{staticClass:"d-block text-info ml-1",staticStyle:{"font-size":"3rem","font-weight":"700","letter-spacing":"2px","text-shadow":"0 2px 8px rgba(0,0,0,0.08)"}},[t._v("LACTEOS MV 2016, C.A.")])])],1),a("b-card-text",{staticClass:"mb-25 ml-2"},[a("strong",[t._v("Rif-J-41237828-7")])]),a("b-card-text",{staticClass:"mb-25 ml-1"},[a("strong",[t._v("Tlf-(0416)-195-70-38")]),a("br"),a("strong",[t._v("Tlf-(0412)-673-47-76")])])],1),a("div",{staticClass:"mt-md-0 mt-2 float-right fechaIzquierda"},[a("h4",{staticClass:"invoice-title"},[t._v(" N° "),a("span",{staticClass:"invoice-number"},[t._v("#"+t._s(t.invoiceNumber))])]),a("div",{staticClass:"invoice-date-wrapper"},[a("p",{staticClass:"invoice-date-title"},[t._v(" Fecha: ")]),a("p",{staticClass:"invoice-date"},[t._v(" "+t._s(t.invoiceData.created_at)+" ")])])])])]),a("h3",{staticClass:"text-center text-info"},[a("strong",[t._v("Reporte Semanal del Rutero")])]),a("p",{staticClass:"text-center mb-0"},[a("strong",[t._v("Del "+t._s(t.invoiceData.start_week)+" Al "+t._s(t.invoiceData.end_week))])]),a("hr",{staticClass:"invoice-spacing"}),t.invoiceData.id&&t.invoiceData.carrier&&t.invoiceData.carrier[0]?a("b-card-body",{staticClass:"invoice-padding pt-0"},[a("b-card",{staticClass:"mb-1 bg-light border-info align-items-center"},[a("b-row",{staticClass:"align-items-center"},[a("b-col",[a("strong",[t._v("Rutero:")]),t._v(" "+t._s(t.invoiceData.carrier[0].dni)+" - "+t._s(t.invoiceData.carrier[0].name)+" "),a("strong",[t._v("TLF:")]),t._v(" "+t._s(t.invoiceData.carrier[0].phone)+" "),a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.invoiceData.carrier[0].address)+" ")])],1)],1)],1):t._e(),t.loaded?a("b-table-lite",{staticClass:"mb-5 text-center",attrs:{responsive:"",items:t.invoiceData.milk_loads,fields:t.fields},scopedSlots:t._u([{key:"cell(created_at)",fn:function(e){return[a("b-card-text",{staticClass:"text-nowrap mb-25"},[t._v(" "+t._s(new Date(e.value).toLocaleDateString("es-ES",{weekday:"long"}))+" ")]),a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" "+t._s(new Date(e.value).toLocaleDateString("es-ES"))+" ")])]}},{key:"cell(producer.name)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" "+t._s(e.value)+" ")])]}},{key:"cell(liters)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" "+t._s(e.value)+" Lts ")])]}},{key:"cell(price_per_carrier)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" $"+t._s(e.value)+" ")])]}},{key:"cell(subTotal)",fn:function(e){return[a("b-card-text",{staticClass:"font-weight-bold mb-25"},[t._v(" $"+t._s((e.item.liters*e.item.price_per_carrier).toFixed(2))+" ")])]}}],null,!1,1607140387)}):t._e(),a("b-col",{staticClass:"float-right",attrs:{cols:"12",xl:"12"}},[a("h5",{staticClass:"p-0 float-right"},[t._v(" Total en Litros: "+t._s(t.invoiceData.liters)+"Lts ")]),a("br"),a("br"),a("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Bs "+(t.invoiceData.amount*t.convercion).toFixed(2),expression:"'Bs '+(invoiceData.amount * convercion).toFixed(2)",modifiers:{hover:!0,top:!0}}],staticClass:"p-0 float-right text-success"},[t._v(" "+t._s("Pagado"===t.invoiceData.status?"Total Pagado":"Total a Pagar")+" $"+t._s(t.invoiceData.amount)+" ")])]),a("div",{staticClass:"mb-5"}),a("div",{staticClass:"targetaDePie"},[a("hr",{staticClass:"invoice-spacing"}),a("b-card-body",{staticClass:"invoice-padding p-0 m-0 pb-2 text-center"},[a("span",{staticClass:"font-weight-bold text-info m-0 p-0"},[t._v(" Productos de primera calidad, para un sabor inigualable. ")]),a("hr",{staticClass:"invoice-spacing p-0 m-1"}),a("span",{staticClass:"m-1 pt-0"},[t._v(" Av. Principal, Casa S/N Sector La Raya (La Raya Arriba) Barinas Zona Postal 5217 ")])])],1)],1)],1),a("b-col",{staticClass:"invoice-actions",attrs:{cols:"12",md:"4",xl:"3"}},[a("b-card",{staticClass:"position-fixed",staticStyle:{width:"18%"}},[a("div",{staticClass:"mb-1 text-center"},[a("b-badge",{attrs:{pill:"",variant:"Pendiente"===t.invoiceData.status?"warning":"success"}},[t._v(" "+t._s(t.invoiceData.status)+" ")])],1),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-info",block:""},on:{click:t.printInvoice}},[t._v(" Imprimir ")]),"Pendiente"===t.invoiceData.status?a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-75",attrs:{variant:"outline-success",block:""},on:{click:function(e){return t.paidCarrier(t.invoiceData.id)}}},[t._v(" Pagar ")]):t._e()],1)],1)],1):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice-watermark-bg only-print"},[a("img",{attrs:{src:"/logoMV.png",alt:"Logo Marca de Agua"}})])}],c=a("c7eb"),r=a("1da1"),o=a("5530"),s=(a("7db0"),a("d3b7"),a("4d90"),a("39ba")),l=a("a15b7"),b=a("b28b"),d=a("205f"),u=a("1947"),f=a("6197"),v=a("ce80"),p=a("d6e4"),g=a("5fda"),m=a("aa59"),O=a("e98b"),_=a("088b"),j=a("e009"),h=a("2f62"),y=a("2b0e"),w=a("a2b6"),C={directives:{Ripple:j["a"],"b-toggle":s["a"]},components:{BRow:l["a"],BCol:b["a"],BCard:d["a"],BButton:u["a"],BCardBody:f["a"],BTableLite:v["a"],BCardText:p["a"],BAlert:g["a"],BLink:m["a"],BBadge:O["a"],Logo:_["a"]},data:function(){return{invoiceData:y["default"].observable({}),convercion:null,liters:null,totalIva:"0.00",fields:[{key:"created_at",label:"Fecha",sortable:!0},{key:"producer.name",label:"Productor"},{key:"liters",label:"Litros",sortable:!0},{key:"price_per_carrier",label:"Precio",sortable:!0},{key:"subTotal",label:"Sub Total",sortable:!0}],carrier:[{key:"dni",label:"Identificación"},{key:"name",label:"Rutero"},{key:"phone",label:"Teléfono"},{key:"address",label:"Dirección"}],loaded:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(h["b"])({items:function(t){return t.payment.invoice},currency:function(t){return t.currency.items}})),{},{invoiceNumber:function(){return this.invoiceData&&this.invoiceData.id?String(this.invoiceData.id).padStart(8,"0"):""}}),mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;this.$store.dispatch("currency/get").then((function(){var e=t.currency.find((function(t){var e=t.id;return 1===e})),a=e?parseFloat(e.price):0,i=t.currency.find((function(t){var e=t.id;return 3===e})),n=i?parseFloat(i.price):0;t.convercion=a,t.liters=n,console.log(t.convercion,t.liters)})),this.$store.dispatch("payment/getInvoiceCarrier",{id:this.$route.params.id}).then((function(){var e=t.items;if(e){var a=e.milk_loads,i=e.payment,n=i.id,c=i.liters,r=i.payable,o=[r],s=i.created_at,l=i.start_week,b=i.end_week,d=i.amount,u=i.status;t.invoiceData={id:n,milk_loads:a,payment:i,liters:c,carrier:o,created_at:new Date(s).toLocaleDateString("es-ES"),start_week:new Date(l).toLocaleDateString("es-ES"),end_week:new Date(b).toLocaleDateString("es-ES"),amount:d,status:u}}t.loaded=!0}))},printInvoice:function(){window.print()},paidCarrier:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function a(){var i,n;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(w["a"])("¿Está seguro de Pagar este Rutero?");case 2:if(i=a.sent,!i.value){a.next=10;break}return a.next=6,e.$store.dispatch("payment/paid",{id:t});case 6:n=a.sent,console.log(n),e.$swal("Pagado","El Rutero ha sido Pagado","success"),e.getItems();case 10:case"end":return a.stop()}}),a)})))()}}},x=C,D=(a("cea0"),a("e8f3"),a("ccad"),a("2877")),k=Object(D["a"])(x,i,n,!1,null,"e1b61b70",null);e["default"]=k.exports},"39ba":function(t,e,a){"use strict";a.d(e,"a",(function(){return J}));var i=a("c637"),n=a("e863"),c=a("0056"),r=a("9bfa"),o=a("992e"),s=a("2326"),l=a("906c"),b=a("6b77"),d=a("7b1e"),u=a("3c21"),f=a("d82f"),v="collapsed",p="not-collapsed",g="__BV_toggle",m="".concat(g,"_HANDLER__"),O="".concat(g,"_CLICK__"),_="".concat(g,"_STATE__"),j="".concat(g,"_TARGETS__"),h="false",y="true",w="aria-controls",C="aria-expanded",x="role",D="tabindex",k="overflow-anchor",P=Object(b["d"])(i["r"],"toggle"),S=Object(b["e"])(i["r"],"state"),E=Object(b["e"])(i["r"],"sync-state"),L=Object(b["d"])(i["r"],"request-state"),B=[r["c"],r["j"]],T=function(t){return!Object(s["a"])(["button","a"],t.tagName.toLowerCase())},$=function(t,e){var a=t.modifiers,i=t.arg,n=t.value,c=Object(f["h"])(a||{});if(n=Object(d["m"])(n)?n.split(o["r"]):n,Object(l["t"])(e.tagName,"a")){var r=Object(l["h"])(e,"href")||"";o["h"].test(r)&&c.push(r.replace(o["g"],""))}return Object(s["b"])(i,n).forEach((function(t){return Object(d["m"])(t)&&c.push(t)})),c.filter((function(t,e,a){return t&&a.indexOf(t)===e}))},I=function(t){var e=t[O];e&&(Object(b["a"])(t,"click",e,c["P"]),Object(b["a"])(t,"keydown",e,c["P"])),t[O]=null},R=function(t,e){if(I(t),e.context){var a=function(a){if(("keydown"!==a.type||Object(s["a"])(B,a.keyCode))&&!Object(l["r"])(t)){var i=t[j]||[];i.forEach((function(t){e.context.$root.$emit(P,t)}))}};t[O]=a,Object(b["b"])(t,"click",a,c["P"]),T(t)&&Object(b["b"])(t,"keydown",a,c["P"])}},A=function(t,e){t[m]&&e.context&&e.context.$root.$off([S,E],t[m]),t[m]=null},N=function(t,e){if(A(t,e),e.context){var a=function(e,a){Object(s["a"])(t[j]||[],e)&&(t[_]=a,F(t,a))};t[m]=a,e.context.$root.$on([S,E],a)}},F=function(t,e){e?(Object(l["y"])(t,v),Object(l["b"])(t,p),Object(l["E"])(t,C,y)):(Object(l["y"])(t,p),Object(l["b"])(t,v),Object(l["E"])(t,C,h))},V=function(t,e){t[e]=null,delete t[e]},z=function(t,e,a){if(n["f"]&&a.context){T(t)&&(Object(l["o"])(t,x)||Object(l["E"])(t,x,"button"),Object(l["o"])(t,D)||Object(l["E"])(t,D,"0")),F(t,t[_]);var i=$(e,t);i.length>0?(Object(l["E"])(t,w,i.join(" ")),Object(l["F"])(t,k,"none")):(Object(l["x"])(t,w),Object(l["A"])(t,k)),Object(l["B"])((function(){R(t,a)})),Object(u["a"])(i,t[j])||(t[j]=i,i.forEach((function(t){a.context.$root.$emit(L,t)})))}},J={bind:function(t,e,a){t[_]=!1,t[j]=[],N(t,a),z(t,e,a)},componentUpdated:z,updated:z,unbind:function(t,e,a){I(t),A(t,a),V(t,m),V(t,O),V(t,_),V(t,j),Object(l["y"])(t,v),Object(l["y"])(t,p),Object(l["x"])(t,C),Object(l["x"])(t,w),Object(l["x"])(t,x),Object(l["A"])(t,k)}}},"6b0e":function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").find,c=a("44d2"),r=a("ae40"),o="find",s=!0,l=r(o);o in[]&&Array(1)[o]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),c(o)},ccad:function(t,e,a){"use strict";a("ebe8")},cd5a:function(t,e,a){},ce80:function(t,e,a){"use strict";a.d(e,"a",(function(){return w}));var i=a("2b0e"),n=a("c637"),c=a("d82f"),r=a("cf75"),o=a("493b"),s=a("31df"),l=a("90ef"),b=a("8c18"),d=a("3f15"),u=a("d6d4"),f=a("5e0d"),v=a("48f9"),p=a("712b"),g=a("399f"),m=a("838e"),O=a("c05d");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=Object(r["d"])(Object(c["m"])(j(j(j(j(j(j(j(j(j({},l["b"]),d["b"]),u["b"]),f["b"]),v["a"]),p["a"]),g["a"]),m["a"]),O["a"])),n["ib"]),w=i["default"].extend({name:n["ib"],mixins:[o["a"],s["a"],l["a"],b["a"],f["a"],p["b"],v["b"],O["b"],m["b"],g["b"],d["a"],u["a"]],props:y})},cea0:function(t,e,a){"use strict";a("cd5a")},e8f3:function(t,e,a){"use strict";a("6b0e")},e98b:function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var i=a("2b0e"),n=a("b42e"),c=a("c637"),r=a("a723"),o=a("d82f"),s=a("cf75"),l=a("4a38"),b=a("aa59");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=Object(o["j"])(b["b"],["event","routerTag"]);delete v.href.default,delete v.to.default;var p=Object(s["d"])(Object(o["m"])(u(u({},v),{},{pill:Object(s["c"])(r["g"],!1),tag:Object(s["c"])(r["t"],"span"),variant:Object(s["c"])(r["t"],"secondary")})),c["c"]),g=i["default"].extend({name:c["c"],functional:!0,props:p,render:function(t,e){var a=e.props,i=e.data,c=e.children,r=a.active,o=a.disabled,d=Object(l["d"])(a),u=d?b["a"]:a.tag,f=a.variant||"secondary";return t(u,Object(n["a"])(i,{staticClass:"badge",class:["badge-".concat(f),{"badge-pill":a.pill,active:r,disabled:o}],props:d?Object(s["e"])(v,a):{}}),c)}})},ebe8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-558dc60b.3414a0e2.js.map